import{d as f,l as u,C as w,a as i,b as o,L as b,M as p,N as y,F as L,O as S,P as _,t as m,u as U,o as d}from"./base-2tROEyUa.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"text-center p-4 flex flex-col gap-y-4 bg-gray-900 text-white min-h-screen"},R={class:"text-white"},M=["onClick"],V={key:0},N={class:"mt-auto text-gray-200"},F=f({__name:"index",setup(T){const k="1.1.0",r=u(""),s=u([]),a=u(""),g=()=>{!r.value||r.value.split(".").length<2||s.value.includes(r.value)||chrome.storage.local.get(["blockedSites"],l=>{const e=l.blockedSites?[...l.blockedSites,r.value]:[r.value];chrome.storage.local.set({blockedSites:e},()=>{s.value=e,r.value=""})})};w(()=>{chrome.storage.local.get(["blockedSites","redirectUrl"],l=>{s.value=l.blockedSites||[],a.value=l.redirectUrl||"https://google.com"})});const v=()=>{chrome.tabs.query({active:!0,currentWindow:!0},l=>{if(l[0]&&l[0].url)try{const t=new URL(l[0].url).hostname;if(t.split(".").length<2)return;s.value.includes(t)||chrome.storage.local.get(["blockedSites"],n=>{const c=n.blockedSites?[...n.blockedSites,t]:[t];chrome.storage.local.set({blockedSites:c},()=>{s.value=c})})}catch(e){console.error("Invalid URL:",e)}})},h=l=>{chrome.storage.local.get(["blockedSites"],e=>{const t=e.blockedSites.filter(n=>n!==l);chrome.storage.local.set({blockedSites:t},()=>{s.value=t})})},x=()=>{chrome.storage.local.set({redirectUrl:a.value})};return(l,e)=>(d(),i("div",C,[e[3]||(e[3]=o("h2",{class:"text-2xl font-bold"}," Website Blocker with Redirect ",-1)),b(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"site.com",onKeyup:y(g,["enter"]),class:"p-2 border border-gray-700 rounded bg-gray-800 text-white placeholder-gray-400 text-base leading-normal"},null,544),[[p,r.value]]),o("button",{onClick:g,class:"mt-2 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded text-base leading-normal"}," Block site "),o("button",{onClick:v,class:"bg-green-600 hover:bg-green-700 text-white p-2 rounded text-base leading-normal"}," Block current site "),e[4]||(e[4]=o("h3",{class:"text-xl bold"},"Blocked sites",-1)),o("ul",null,[(d(!0),i(L,null,S(s.value,(t,n)=>(d(),i("li",{key:n,class:"flex justify-between items-center bg-gray-800 p-2 rounded mb-2"},[o("span",R,m(t),1),o("button",{onClick:c=>h(t),class:"text-red-500 hover:text-red-700"},e[2]||(e[2]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,M)]))),128))]),s.value.length?_("",!0):(d(),i("p",V," No sites are blocked ")),e[5]||(e[5]=o("h3",{class:"text-xl bold"},"Redirect to",-1)),b(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),placeholder:"Enter redirect URL",onBlur:x,class:"p-2 border border-gray-700 rounded bg-gray-800 text-white placeholder-gray-400 text-base leading-normal"},null,544),[[p,a.value]]),o("p",N,"Version: "+m(U(k)),1)]))}}),E=B(F,[["__scopeId","data-v-3c33e32b"]]);export{E as default};
